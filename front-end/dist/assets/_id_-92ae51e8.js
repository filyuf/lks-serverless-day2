import{u as Se,h as J}from"./orderStore-6ecc7bf8.js";import{A as we,J as re,m as Te,b as xe,aZ as Ve,g as ae,aD as Ce,aB as ze,a_ as Me,x as w,C as _,a$ as ue,ak as Re,a1 as Be,e as le,f as c,b0 as de,t as H,b1 as Pe,aA as Ie,aK as Oe,b2 as Ae,ac as Ee,aO as ee,ad as te,S as $e,B as De,a5 as Ye,ae as Fe,K as A,af as He,az as Ne,aS as Ge,aN as Le,G as qe,o as x,q as R,a as i,k as h,c as L,aT as Ue,aU as Z,w as C,V as fe,aW as We,s as q,ab as ve,aV as me,aP as z,n as je,b3 as Xe,p as Ke,r as Je}from"./index-ba899fcd.js";import{V as U}from"./VCard-810de1be.js";import{V as Ze}from"./VImg-4b84191f.js";import{a as Qe,s as et}from"./easing-e2304dbf.js";import{V as Q}from"./VDivider-35d02f38.js";import{V as tt}from"./VAvatar-7fc9f89c.js";function he(e){const o=Math.abs(e);return Math.sign(e)*(o/((1/.501-2)*(1-o)+1))}function ge(e){let{selectedElement:v,containerSize:o,contentSize:r,isRtl:p,currentScrollOffset:l,isHorizontal:n}=e;const t=n?v.clientWidth:v.clientHeight,d=n?v.offsetLeft:v.offsetTop,a=p&&n?r-d-t:d,m=o+l,k=t+a,b=t*.4;return a<=l?l=Math.max(a-b,0):m<=k&&(l=Math.min(l-(m-k-b),r-o)),l}function st(e){let{selectedElement:v,containerSize:o,contentSize:r,isRtl:p,isHorizontal:l}=e;const n=l?v.clientWidth:v.clientHeight,t=l?v.offsetLeft:v.offsetTop,d=p&&l?r-t-n/2-o/2:t+n/2-o/2;return Math.min(r-o,Math.max(0,d))}const at=Symbol.for("vuetify:v-slide-group"),_e=we({centerActive:Boolean,direction:{type:String,default:"horizontal"},symbol:{type:null,default:at},nextIcon:{type:re,default:"$next"},prevIcon:{type:re,default:"$prev"},showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||["always","desktop","mobile"].includes(e)},...Te(),...xe(),...Ve({selectedClass:"v-slide-group-item--active"})},"v-slide-group"),be=ae()({name:"VSlideGroup",props:_e(),emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:o}=v;const{isRtl:r}=Ce(),{mobile:p}=ze(),l=Me(e,e.symbol),n=w(!1),t=w(0),d=w(0),a=w(0),m=_(()=>e.direction==="horizontal"),{resizeRef:k,contentRect:b}=ue(),{resizeRef:g,contentRect:P}=ue(),T=_(()=>l.selected.value.length?l.items.value.findIndex(s=>s.id===l.selected.value[0]):-1),y=_(()=>l.selected.value.length?l.items.value.findIndex(s=>s.id===l.selected.value[l.selected.value.length-1]):-1);if(Re){let s=-1;Be(()=>[l.selected.value,b.value,P.value,m.value],()=>{cancelAnimationFrame(s),s=requestAnimationFrame(()=>{if(b.value&&P.value){const u=m.value?"width":"height";d.value=b.value[u],a.value=P.value[u],n.value=d.value+1<a.value}if(T.value>=0&&g.value){const u=g.value.children[y.value];T.value===0||!n.value?t.value=0:e.centerActive?t.value=st({selectedElement:u,containerSize:d.value,contentSize:a.value,isRtl:r.value,isHorizontal:m.value}):n.value&&(t.value=ge({selectedElement:u,containerSize:d.value,contentSize:a.value,isRtl:r.value,currentScrollOffset:t.value,isHorizontal:m.value}))}})})}const M=w(!1);let f=0,B=0;function E(s){const u=m.value?"clientX":"clientY";B=(r.value&&m.value?-1:1)*t.value,f=s.touches[0][u],M.value=!0}function $(s){if(!n.value)return;const u=m.value?"clientX":"clientY",V=r.value&&m.value?-1:1;t.value=V*(B+f-s.touches[0][u])}function N(s){const u=a.value-d.value;t.value<0||!n.value?t.value=0:t.value>=u&&(t.value=u),M.value=!1}function I(){k.value&&(k.value[m.value?"scrollLeft":"scrollTop"]=0)}const D=w(!1);function W(s){if(D.value=!0,!(!n.value||!g.value)){for(const u of s.composedPath())for(const V of g.value.children)if(V===u){t.value=ge({selectedElement:V,containerSize:d.value,contentSize:a.value,isRtl:r.value,currentScrollOffset:t.value,isHorizontal:m.value});return}}}function O(s){D.value=!1}function j(s){var u;!D.value&&!(s.relatedTarget&&((u=g.value)!=null&&u.contains(s.relatedTarget)))&&S()}function oe(s){g.value&&(m.value?s.key==="ArrowRight"?S(r.value?"prev":"next"):s.key==="ArrowLeft"&&S(r.value?"next":"prev"):s.key==="ArrowDown"?S("next"):s.key==="ArrowUp"&&S("prev"),s.key==="Home"?S("first"):s.key==="End"&&S("last"))}function S(s){var u,V,ne,ie,ce;if(g.value)if(!s)(u=Pe(g.value)[0])==null||u.focus();else if(s==="next"){const Y=(V=g.value.querySelector(":focus"))==null?void 0:V.nextElementSibling;Y?Y.focus():S("first")}else if(s==="prev"){const Y=(ne=g.value.querySelector(":focus"))==null?void 0:ne.previousElementSibling;Y?Y.focus():S("last")}else s==="first"?(ie=g.value.firstElementChild)==null||ie.focus():s==="last"&&((ce=g.value.lastElementChild)==null||ce.focus())}function F(s){const u=t.value+(s==="prev"?-1:1)*d.value;t.value=Ie(u,0,a.value-d.value)}const G=_(()=>{let s=t.value>a.value-d.value?-(a.value-d.value)+he(a.value-d.value-t.value):-t.value;t.value<=0&&(s=he(-t.value));const u=r.value&&m.value?-1:1;return{transform:`translate${m.value?"X":"Y"}(${u*s}px)`,transition:M.value?"none":"",willChange:M.value?"transform":""}}),X=_(()=>({next:l.next,prev:l.prev,select:l.select,isSelected:l.isSelected})),K=_(()=>{switch(e.showArrows){case"always":return!0;case"desktop":return!p.value;case!0:return n.value||Math.abs(t.value)>0;case"mobile":return p.value||n.value||Math.abs(t.value)>0;default:return!p.value&&(n.value||Math.abs(t.value)>0)}}),ye=_(()=>Math.abs(t.value)>0),ke=_(()=>a.value>Math.abs(t.value)+d.value);return le(()=>c(e.tag,{class:["v-slide-group",{"v-slide-group--vertical":!m.value,"v-slide-group--has-affixes":K.value,"v-slide-group--is-overflowing":n.value},e.class],style:e.style,tabindex:D.value||l.selected.value.length?-1:0,onFocus:j},{default:()=>{var s,u,V;return[K.value&&c("div",{key:"prev",class:["v-slide-group__prev",{"v-slide-group__prev--disabled":!ye.value}],onClick:()=>F("prev")},[((s=o.prev)==null?void 0:s.call(o,X.value))??c(de,null,{default:()=>[c(H,{icon:r.value?e.nextIcon:e.prevIcon},null)]})]),c("div",{key:"container",ref:k,class:"v-slide-group__container",onScroll:I},[c("div",{ref:g,class:"v-slide-group__content",style:G.value,onTouchstartPassive:E,onTouchmovePassive:$,onTouchendPassive:N,onFocusin:W,onFocusout:O,onKeydown:oe},[(u=o.default)==null?void 0:u.call(o,X.value)])]),K.value&&c("div",{key:"next",class:["v-slide-group__next",{"v-slide-group__next--disabled":!ke.value}],onClick:()=>F("next")},[((V=o.next)==null?void 0:V.call(o,X.value))??c(de,null,{default:()=>[c(H,{icon:r.value?e.prevIcon:e.nextIcon},null)]})])]}})),{selected:l.selected,scrollTo:F,scrollOffset:t,focus:S}}});const pe=Symbol.for("vuetify:v-tabs"),se=ae()({name:"VTab",props:{fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...Oe(Ae({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},setup(e,v){let{slots:o,attrs:r}=v;const{textColorClasses:p,textColorStyles:l}=Ee(e,"sliderColor"),n=_(()=>e.direction==="horizontal"),t=w(!1),d=w(),a=w();function m(k){var g,P;let{value:b}=k;if(t.value=b,b){const T=(P=(g=d.value)==null?void 0:g.$el.parentElement)==null?void 0:P.querySelector(".v-tab--selected .v-tab__slider"),y=a.value;if(!T||!y)return;const M=getComputedStyle(T).color,f=T.getBoundingClientRect(),B=y.getBoundingClientRect(),E=n.value?"x":"y",$=n.value?"X":"Y",N=n.value?"right":"bottom",I=n.value?"width":"height",D=f[E],W=B[E],O=D>W?f[N]-B[N]:f[E]-B[E],j=Math.sign(O)>0?n.value?"right":"bottom":Math.sign(O)<0?n.value?"left":"top":"center",S=(Math.abs(O)+(Math.sign(O)<0?f[I]:B[I]))/Math.max(f[I],B[I]),F=f[I]/B[I],G=1.5;Qe(y,{backgroundColor:[M,""],transform:[`translate${$}(${O}px) scale${$}(${F})`,`translate${$}(${O/G}px) scale${$}(${(S-1)/G+1})`,""],transformOrigin:Array(3).fill(j)},{duration:225,easing:et})}}return le(()=>{const[k]=ee.filterProps(e);return c(ee,te({symbol:pe,ref:d,class:["v-tab",e.class],style:e.style,tabindex:t.value?0:-1,role:"tab","aria-selected":String(t.value),active:!1,block:e.fixed,maxWidth:e.fixed?300:void 0,rounded:0},k,r,{"onGroup:selected":m}),{default:()=>{var b;return[((b=o.default)==null?void 0:b.call(o))??e.text,!e.hideSlider&&c("div",{ref:a,class:["v-tab__slider",p.value],style:l.value},null)]}})}),{}}});function lt(e){return e?e.map(v=>typeof v=="string"?{title:v,value:v}:v):[]}const ot=ae()({name:"VTabs",props:{alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,..._e({mandatory:"force"}),...$e(),...xe()},emits:{"update:modelValue":e=>!0},setup(e,v){let{slots:o}=v;const r=De(e,"modelValue"),p=_(()=>lt(e.items)),{densityClasses:l}=Ye(e),{backgroundColorClasses:n,backgroundColorStyles:t}=Fe(A(e,"bgColor"));return He({VTab:{color:A(e,"color"),direction:A(e,"direction"),stacked:A(e,"stacked"),fixed:A(e,"fixedTabs"),sliderColor:A(e,"sliderColor"),hideSlider:A(e,"hideSlider")}}),le(()=>{const[d]=be.filterProps(e);return c(be,te(d,{modelValue:r.value,"onUpdate:modelValue":a=>r.value=a,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},l.value,n.value,e.class],style:[{"--v-tabs-height":Ne(e.height)},t.value,e.style],role:"tablist",symbol:pe}),{default:()=>[o.default?o.default():p.value.map(a=>c(se,te(a,{key:a.title}),null))]})}),{}}}),nt={class:"px-3"},it={class:"d-flex flex-column"},ct={class:"pt-5"},rt={key:0},ut=["innerHTML"],dt={key:1},ft=i("span",{class:"font-weight-bold text-sm font-italic text-error"},"Notes: You can only order 4 ticket.",-1),vt={key:0,class:"d-flex flex-column"},mt={key:1,class:"d-flex flex-column"},ht=i("span",{class:"text-sm text-justify"},"No ticket available.",-1),gt=[ht],bt={class:"text-lg font-weight-bold"},xt={class:"d-flex align-center text-md font-weight-medium mt-5"},_t={class:"ml-2"},pt={class:"d-flex align-center text-md font-weight-medium"},yt={class:"ml-2"},kt={class:"d-flex align-center text-md font-weight-medium"},St={class:"ml-2"},wt={class:"d-flex flex-row align-center"},Tt=i("div",{class:"d-flex flex-column ml-2"},[i("span",{class:"text-sm text-disabled"},"Organize by"),i("span",{class:"text-md font-weight-bold"},"SW Production")],-1),Vt={class:"text-sm align-self-center text-center"},Ct={class:"font-weight-bold"},zt=i("br",null,null,-1),Mt={key:0,class:"d-flex flex-column"},Rt={class:"font-weight-bold"},Bt={class:"d-flex flex-row align-center justify-space-between"},Pt={class:"text-sm"},It={class:"text-sm font-weight-bold"},Ot={class:"d-flex flex-row justify-space-between mb-4 mt-2"},At={class:"text-sm font-weight-bold"},Et={class:"text-sm font-weight-bold"},$t={key:1,class:"mb-4"},Dt=i("span",{class:"text-sm align-self-center text-center"},"You still haven't decided on a ticket. On the Ticket Menu Tab, please choose First.",-1),Yt=[Dt],Ft=i("span",{class:"font-weight-bold"},"Buy Ticket",-1),Ht=i("span",{class:"text-sm align-self-center text-center"},"This event is not published yet.",-1),Xt={__name:"[id]",setup(e){const v=Xe(),o=Ge(),r=Se(),p=Le(),l=Ke(),n=w([]),t=w(0),d=w(!1),a=_(()=>o.eventDetails),m=_(()=>r.totalTickets),k=_(()=>r.ticketOrder),b=_(()=>r.ticketOrder.length>0?r.ticketOrder.reduce((T,y)=>T+y.amount,0):0),g=async T=>{try{d.value=!0,await o.resetDetails(),await r.resetOrder();const y=await o.getEventById(T),M=y.tickets.length>0?y.tickets.map(f=>({...f,qty:0,amount:0})):[];n.value=M}finally{d.value=!1}},P=()=>{r.totalTickets>0?l.push("/order"):p.setSnackbar("warning","Select at least 1 ticket!",!0)};return qe(()=>{g(v.params.id)}),(T,y)=>{const M=Je("TicketItem");return x(),R("div",null,[i("div",nt,[h(d)?(x(),L(Ue,{key:0,indeterminate:"",rounded:"",height:"2",color:"primary"})):Z("",!0)]),c(je,{class:"px-3 mb-4 mt-2"},{default:C(()=>[c(fe,{col:"12",md:"8"},{default:C(()=>[i("div",it,[c(U,{class:"rounded-lg mb-6"},{default:C(()=>[c(Ze,{"aspect-ratio":16/6,cover:"",src:h(a).image},null,8,["src"])]),_:1}),c(ot,{modelValue:h(t),"onUpdate:modelValue":y[0]||(y[0]=f=>We(t)?t.value=f:null),grow:""},{default:C(()=>[c(se,{class:"font-weight-bold text-sm text-uppercase"},{default:C(()=>[q("Description")]),_:1}),c(se,{class:"font-weight-bold text-sm text-uppercase"},{default:C(()=>[q("Ticket")]),_:1})]),_:1},8,["modelValue"]),i("div",ct,[h(t)===0?(x(),R("div",rt,[i("span",{innerHTML:h(a).desc,class:"text-sm text-justify"},null,8,ut)])):Z("",!0),h(t)===1?(x(),R("div",dt,[ft,h(n)?(x(),R("div",vt,[(x(!0),R(ve,null,me(h(n),f=>(x(),L(M,{key:f.id,id:f.ticketId,title:f.title,desc:f.desc,price:f.price||0,stock:f.stock||0},null,8,["id","title","desc","price","stock"]))),128))])):(x(),R("div",mt,gt))])):Z("",!0)])])]),_:1}),c(fe,{col:"12",md:"4",class:"d-flex flex-column"},{default:C(()=>[c(U,{class:"pa-4 rounded-lg"},{default:C(()=>[i("span",bt,z(h(a).title),1),i("div",xt,[c(H,{size:18,icon:"tabler-calendar"}),i("span",_t,z(h(J)(h(a).date).format("DD MMMM YYYY")),1)]),i("div",pt,[c(H,{size:18,icon:"tabler-tag"}),i("span",yt,z(h(a).category),1)]),i("div",kt,[c(H,{size:18,icon:"tabler-map-pin"}),i("span",St,z(h(a).location),1)]),c(Q,{class:"border-dashed border-opacity-25 my-3",thickness:"1"}),i("div",wt,[c(tt,{color:"primary",icon:"tabler-building-skyscraper"}),Tt])]),_:1}),h(a).publish?(x(),L(U,{key:0,class:"pa-4 rounded-lg mt-5 d-flex flex-column"},{default:C(()=>[i("span",Vt,[q("Registration will close on "),i("span",Ct,[zt,q(z(h(J)(h(a).date).format("DD")-2)+" "+z(h(J)(h(a).date).format("MMMM YYYY"))+".",1)])]),c(Q,{class:"border-dashed border-opacity-25 my-3",thickness:"1"}),h(m)>0?(x(),R("div",Mt,[(x(!0),R(ve,null,me(h(k),f=>(x(),R("div",{key:f.ticketId,class:"d-flex flex-column"},[i("span",Rt,z(f.title),1),i("div",Bt,[i("span",Pt,z(f.qty)+" Ticket",1),i("span",It,"Rp. "+z(parseInt(f.amount).toLocaleString("id-ID")),1)]),c(Q,{class:"border-dashed border-opacity-25 my-2",thickness:"1"})]))),128)),i("div",Ot,[i("span",At,"Total "+z(h(m))+" ticket",1),i("span",Et,"Rp. "+z(parseInt(h(b)).toLocaleString("id-ID")),1)])])):(x(),R("div",$t,Yt)),c(ee,{variant:"tonal",rounded:"lg",onClick:P},{default:C(()=>[Ft]),_:1})]),_:1})):(x(),L(U,{key:1,class:"pa-4 rounded-lg mt-5 d-flex flex-column"},{default:C(()=>[Ht]),_:1}))]),_:1})]),_:1})])}}};export{Xt as default};
